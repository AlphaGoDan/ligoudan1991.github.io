(function (global, $) {
  class Component {
    constructor($element) {
      this.$this = $element;
      this.imgElement = $element.find('img');
      this.boxRatio = $element.width() / $element.height();
      this.maxTime = 3;
      this.examine();
    }

    examine() {
      setTimeout(() => {
        console.log(this.imgElement[0].complete);
        this.maxTime--;

        if (this.imgElement[0].complete || this.maxTime === 0) {
          let _ratio = this.imgElement.width() / this.imgElement.height();

          if (_ratio > this.boxRatio) {
            this.$this.addClass('h');
          }
        } else {
          this.examine();
        }
      }, 600);
    }

  }

  $.fn.responseImg = function () {
    console.log('responseImg ');

    if (this.length === 0) {
      return this;
    }

    return this.each(function () {
      new Component($(this));
      return this;
    });
  };
})(window, jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5wbHVnaW4uZXM2Il0sIm5hbWVzIjpbImdsb2JhbCIsIiQiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsIiRlbGVtZW50IiwiJHRoaXMiLCJpbWdFbGVtZW50IiwiZmluZCIsImJveFJhdGlvIiwid2lkdGgiLCJoZWlnaHQiLCJtYXhUaW1lIiwiZXhhbWluZSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwiY29tcGxldGUiLCJfcmF0aW8iLCJhZGRDbGFzcyIsImZuIiwicmVzcG9uc2VJbWciLCJsZW5ndGgiLCJlYWNoIiwid2luZG93IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxDQUFDLFVBQVNBLE1BQVQsRUFBaUJDLENBQWpCLEVBQW9CO0FBQ2pCLFFBQU1DLFNBQU4sQ0FBZ0I7QUFDWkMsSUFBQUEsV0FBVyxDQUFDQyxRQUFELEVBQVc7QUFDbEIsV0FBS0MsS0FBTCxHQUFhRCxRQUFiO0FBQ0EsV0FBS0UsVUFBTCxHQUFrQkYsUUFBUSxDQUFDRyxJQUFULENBQWMsS0FBZCxDQUFsQjtBQUNBLFdBQUtDLFFBQUwsR0FBZ0JKLFFBQVEsQ0FBQ0ssS0FBVCxLQUFtQkwsUUFBUSxDQUFDTSxNQUFULEVBQW5DO0FBQ0EsV0FBS0MsT0FBTCxHQUFlLENBQWY7QUFDQSxXQUFLQyxPQUFMO0FBQ0g7O0FBQ0RBLElBQUFBLE9BQU8sR0FBRztBQUNOQyxNQUFBQSxVQUFVLENBQUMsTUFBTTtBQUNiQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFLVCxVQUFMLENBQWdCLENBQWhCLEVBQW1CVSxRQUEvQjtBQUNBLGFBQUtMLE9BQUw7O0FBQ0EsWUFBSSxLQUFLTCxVQUFMLENBQWdCLENBQWhCLEVBQW1CVSxRQUFuQixJQUErQixLQUFLTCxPQUFMLEtBQWlCLENBQXBELEVBQXVEO0FBQ25ELGNBQUlNLE1BQU0sR0FBRyxLQUFLWCxVQUFMLENBQWdCRyxLQUFoQixLQUEwQixLQUFLSCxVQUFMLENBQWdCSSxNQUFoQixFQUF2Qzs7QUFDQSxjQUFJTyxNQUFNLEdBQUcsS0FBS1QsUUFBbEIsRUFBNEI7QUFDeEIsaUJBQUtILEtBQUwsQ0FBV2EsUUFBWCxDQUFvQixHQUFwQjtBQUNIO0FBQ0osU0FMRCxNQUtPO0FBQ0gsZUFBS04sT0FBTDtBQUNIO0FBQ0osT0FYUyxFQVdQLEdBWE8sQ0FBVjtBQVlIOztBQXJCVzs7QUF3QmhCWCxFQUFBQSxDQUFDLENBQUNrQixFQUFGLENBQUtDLFdBQUwsR0FBbUIsWUFBVztBQUMxQk4sSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjs7QUFDQSxRQUFJLEtBQUtNLE1BQUwsS0FBZ0IsQ0FBcEIsRUFBdUI7QUFDbkIsYUFBTyxJQUFQO0FBQ0g7O0FBQ0QsV0FBTyxLQUFLQyxJQUFMLENBQVUsWUFBVztBQUN4QixVQUFJcEIsU0FBSixDQUFjRCxDQUFDLENBQUMsSUFBRCxDQUFmO0FBQ0EsYUFBTyxJQUFQO0FBQ0gsS0FITSxDQUFQO0FBSUgsR0FURDtBQVVILENBbkNELEVBbUNHc0IsTUFuQ0gsRUFtQ1dDLE1BbkNYIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGdsb2JhbCwgJCkge1xuICAgIGNsYXNzIENvbXBvbmVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRlbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLiR0aGlzID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmltZ0VsZW1lbnQgPSAkZWxlbWVudC5maW5kKCdpbWcnKTtcbiAgICAgICAgICAgIHRoaXMuYm94UmF0aW8gPSAkZWxlbWVudC53aWR0aCgpIC8gJGVsZW1lbnQuaGVpZ2h0KCk7XG4gICAgICAgICAgICB0aGlzLm1heFRpbWUgPSAzO1xuICAgICAgICAgICAgdGhpcy5leGFtaW5lKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXhhbWluZSgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1nRWxlbWVudFswXS5jb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhUaW1lLS07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nRWxlbWVudFswXS5jb21wbGV0ZSB8fCB0aGlzLm1heFRpbWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IF9yYXRpbyA9IHRoaXMuaW1nRWxlbWVudC53aWR0aCgpIC8gdGhpcy5pbWdFbGVtZW50LmhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3JhdGlvID4gdGhpcy5ib3hSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGhpcy5hZGRDbGFzcygnaCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGFtaW5lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNjAwKTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkLmZuLnJlc3BvbnNlSW1nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZUltZyAnKTtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IENvbXBvbmVudCgkKHRoaXMpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9KTtcbiAgICB9O1xufSkod2luZG93LCBqUXVlcnkpO1xuIl0sImZpbGUiOiJqcXVlcnkucGx1Z2luLmpzIn0=
