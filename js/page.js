(function (global, $) {
  class Page {
    constructor() {
      console.log('new page');
      this.data = '属性';
      this.$body = $('body');
      this.initEvent();

      this._create();
    }

    _create() {
      console.log('new page _create'); //this.initData();

      $('.m-img').responseImg();
    }

    initData() {
      ajax.get('/api/v1/block').then(data => {
        console.log('data', data);
      }).catch(err => {
        console.log('err', err);
      });
    }

    initEvent() {
      console.log('new page initEvent');
      $('.btn').click(this.test.bind(this));
      $('body').on('click', '.btn', this.test2.bind(this));
    }

    test() {
      console.log('test', this);
    }

    test2() {
      console.log('test2', this);
      this.initData();
    }

  }

  global.Page = Page;
})(window, jQuery, ajax);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UuZXM2Il0sIm5hbWVzIjpbImdsb2JhbCIsIiQiLCJQYWdlIiwiY29uc3RydWN0b3IiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsIiRib2R5IiwiaW5pdEV2ZW50IiwiX2NyZWF0ZSIsInJlc3BvbnNlSW1nIiwiaW5pdERhdGEiLCJhamF4IiwiZ2V0IiwidGhlbiIsImNhdGNoIiwiZXJyIiwiY2xpY2siLCJ0ZXN0IiwiYmluZCIsIm9uIiwidGVzdDIiLCJ3aW5kb3ciLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBLENBQUMsVUFBU0EsTUFBVCxFQUFpQkMsQ0FBakIsRUFBb0I7QUFDakIsUUFBTUMsSUFBTixDQUFXO0FBQ1BDLElBQUFBLFdBQVcsR0FBRztBQUNWQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsV0FBS0MsSUFBTCxHQUFZLElBQVo7QUFDQSxXQUFLQyxLQUFMLEdBQWFOLENBQUMsQ0FBQyxNQUFELENBQWQ7QUFDQSxXQUFLTyxTQUFMOztBQUNBLFdBQUtDLE9BQUw7QUFDSDs7QUFDREEsSUFBQUEsT0FBTyxHQUFHO0FBQ05MLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBRE0sQ0FFTjs7QUFDQUosTUFBQUEsQ0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZUyxXQUFaO0FBQ0g7O0FBQ0RDLElBQUFBLFFBQVEsR0FBRztBQUNQQyxNQUFBQSxJQUFJLENBQUNDLEdBQUwsQ0FBUyxlQUFULEVBQ0tDLElBREwsQ0FDV1IsSUFBRCxJQUFVO0FBQ1pGLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVosRUFBb0JDLElBQXBCO0FBQ0gsT0FITCxFQUlLUyxLQUpMLENBSVlDLEdBQUQsSUFBUztBQUNaWixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFaLEVBQW1CVyxHQUFuQjtBQUNILE9BTkw7QUFPSDs7QUFDRFIsSUFBQUEsU0FBUyxHQUFHO0FBQ1JKLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaO0FBQ0FKLE1BQUFBLENBQUMsQ0FBQyxNQUFELENBQUQsQ0FBVWdCLEtBQVYsQ0FBZ0IsS0FBS0MsSUFBTCxDQUFVQyxJQUFWLENBQWUsSUFBZixDQUFoQjtBQUNBbEIsTUFBQUEsQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVbUIsRUFBVixDQUFhLE9BQWIsRUFBc0IsTUFBdEIsRUFBOEIsS0FBS0MsS0FBTCxDQUFXRixJQUFYLENBQWdCLElBQWhCLENBQTlCO0FBQ0g7O0FBQ0RELElBQUFBLElBQUksR0FBRztBQUNIZCxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLElBQXBCO0FBQ0g7O0FBQ0RnQixJQUFBQSxLQUFLLEdBQUc7QUFDSmpCLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVosRUFBcUIsSUFBckI7QUFDQSxXQUFLTSxRQUFMO0FBQ0g7O0FBakNNOztBQW9DWFgsRUFBQUEsTUFBTSxDQUFDRSxJQUFQLEdBQWNBLElBQWQ7QUFFSCxDQXZDRCxFQXVDR29CLE1BdkNILEVBdUNXQyxNQXZDWCxFQXVDbUJYLElBdkNuQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihnbG9iYWwsICQpIHtcbiAgICBjbGFzcyBQYWdlIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmV3IHBhZ2UnKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9ICflsZ7mgKcnO1xuICAgICAgICAgICAgdGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfY3JlYXRlKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25ldyBwYWdlIF9jcmVhdGUnKTtcbiAgICAgICAgICAgIC8vdGhpcy5pbml0RGF0YSgpO1xuICAgICAgICAgICAgJCgnLm0taW1nJykucmVzcG9uc2VJbWcoKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0RGF0YSgpIHtcbiAgICAgICAgICAgIGFqYXguZ2V0KCcvYXBpL3YxL2Jsb2NrJylcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdEV2ZW50KCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25ldyBwYWdlIGluaXRFdmVudCcpO1xuICAgICAgICAgICAgJCgnLmJ0bicpLmNsaWNrKHRoaXMudGVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmJ0bicsIHRoaXMudGVzdDIuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVzdCgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGVzdDIoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGVzdDInLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JhbC5QYWdlID0gUGFnZTtcbiAgICBcbn0pKHdpbmRvdywgalF1ZXJ5LCBhamF4KTtcbiJdLCJmaWxlIjoicGFnZS5qcyJ9
